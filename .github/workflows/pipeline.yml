# name: Deploy to AWS Beanstalk

# on:
#   push:
#     branches:
#       - hitesh-dev

# jobs:
#   deploy:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v2

#       - name: Configure AWS credentials
#         uses: aws-actions/configure-aws-credentials@v1
#         with:
#           aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
#           aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
#           aws-region: us-east-1

#       - name: Install Elastic Beanstalk CLI
#         run: |
#           sudo apt-get update
#           sudo apt-get install python3-pip
#           sudo pip3 install awsebcli

#       - name: Deploy to AWS Elastic Beanstalk
#         run: |
#           mkdir -p ~/.aws/eb-cli/containers
#           chmod 700 ~/.aws/eb-cli/containers
#           cat <<EOF > ~/.aws/eb-cli/containers/nestjs.config.yml
#           branch-defaults:
#             hitesh-dev:
#               environment: Stagingservicebuddy-env-1
#               group_suffix: -Stagingservicebuddy-env-1
#           EOF
#           eb init --platform node.js --region us-east-1
#           eb use Stagingservicebuddy-env-1
#           eb deploy --staged --verbose --label service-buddy-api --region us-east-1

